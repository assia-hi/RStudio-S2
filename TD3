#Exo 1

install.packages("readxl")
library(readxl)
setwd("C:/Users/ahidat/Downloads")
pokemon = read_excel(path = "pokemon.xlsx", sheet = "pokemon")

dim(pokemon)
nrow(pokemon)
ncol(pokemon)

View(pokemon)

summary(pokemon)

pokemon$generation = as.factor(pokemon$generation)
pokemon$is_legendary = as.factor(pokemon$is_legendary)
pokemon$type = as.factor(pokemon$type)

summary(pokemon)

#Exo 2

pokemon$attack_group = ifelse(pokemon$attack >= median(pokemon$attack), yes = "attack+", no = "attack-")
pokemon$attack_group = as.factor(pokemon$attack_group)
summary(pokemon$attack_group)

pokemon$water_fire = ifelse(pokemon$type %in% c("water", "fire"), "yes", "no")
pokemon$water_fire = as.factor(pokemon$water_fire)
summary(pokemon$water_fire)

quant_att = quantile(pokemon$attack, 0.75)
quant_def = quantile(pokemon$defense, 0.75)
quant_speed = quantile(pokemon$speed, 0.75)
pokemon$best = ifelse(pokemon$attack > quant_att & pokemon$defense > quant_def & pokemon$speed > quant_speed, "yes", "no")
pokemon$best = as.factor(pokemon$best)
summary(pokemon$best)

requete1 = subset(pokemon, is.na(pokemon$weight_kg))
View(requete1)

requete2 = subset(pokemon, !is.na(pokemon$weight_kg))
View(requete2)

med_weight = median(pokemon$weight_kg, na.rm = TRUE)
pokemon$weight_kgNa = ifelse(is.na(pokemon$weight_kg), med_weight, pokemon$weight_kg)

med_height = median(pokemon$height_m, na.rm = TRUE)
pokemon$height_mNA = ifelse(is.na(pokemon$height_m), med_height, pokemon$height_m)

pokemon$weight_group = cut(pokemon$weight_kg, 3, c("l√©ger", "moyen", "lourd"))

pokemon$height_m_group = cut(pokemon$height_m, c(0,1,2,max(pokemon$height_m)), na.rm = TRUE)
